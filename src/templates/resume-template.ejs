<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Resume</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.0.3/dist/tailwind.min.css" rel="stylesheet">
  <style>
    body{
      font-family: Inter;
      width:100%;
      height:100%;
      zoom: 1
    }
    section {
      margin-top:0.5rem
    }
  </style>
</head>
<body>
  <div class="aspect-[210/297] h-fit w-full bg-white text-black text-justify" id="resume">

    <div class="text-center text-2xl uppercase"><%= firstName %> <%= lastName||'' %></div>
    <div class="flex gap-3 text-sm">
      <% if (email) { %>
        <div><%= email %></div>
      <% } %>
      <% if (phone) { %>
        <div><%= phone %></div>
      <% } %>
    </div>


      <% if (summary) { %>
        <section>
          <div class="text-lg border-b uppercase">Summary</div>
          <div className="space-y-1">
            <div class="text-sm"><%= summary %></div>
          </div>
        </section>
      <% } %>

      <% fieldsOrder.forEach(function(field) { %>
        <% if (field === 'educations' && educations.length) { %>
          <section>
            <div class="text-lg border-b uppercase">Education</div>
            <div class="space-y-1">
              <% educations.forEach(function(education) { %>
                <div>
                  <div><%= education.degree %></div>
                  <div class="flex justify-between">
                    <div class="text-sm"><%= education.school %></div>
                    <div class="text-xs font-semibold"><%= education.startDate %> - <%= education.endDate %></div>
                  </div>
                </div>
              <% }); %>
            </div>
          </section>
        <% } %>

        <% if (field === 'workExperiences' && workExperiences.length) { %>
          <section>
            <div class="text-lg border-b uppercase">Work Experience</div>
            <div class="space-y-1">
              <% workExperiences.forEach(function(experience) { %>
                <div>
                  <div><%= experience.position %></div>
                  <div class="flex justify-between">
                    <div class="text-sm"><%= experience.company %></div>
                    <div class="text-xs font-semibold"><%= experience.startDate %> - <%= experience.endDate %></div>
                  </div>
                  <div class="text-xs"><%= experience.description %></div>
                </div>
              <% }); %>
            </div>
          </section>
        <% } %>

        <% if (field === 'projects' && projects.length) { %>
          <section>
            <div class="text-lg border-b uppercase">Projects</div>
            <div class="space-y-1">
              <% projects.forEach(function(project) { %>
                <div>
                  <div class="flex justify-between">
                    <div class="text-sm"><%= project.title %></div>
                    <div class="text-xs font-semibold"><%= project.startDate %> - <%= project.endDate || "Present" %></div>
                  </div>
                  <div class="text-xs"><%= project.description %></div>
                </div>
              <% }); %>
            </div>
          </section>
        <% } %>

        <% if (field === 'skills' && skills.length) { %>
          <section>
            <div class="text-lg border-b uppercase">Skills</div>
            <div className="space-y-1">
              <div class="text-xs text-justify">
                <%= skills.map(s=>s.skill).filter(Boolean).join(", ") %>
              </div>
            </div>
          </section>
        <% } %>
      <% }); %>

      <% customSections.forEach(function(section){%>
        <section>
          <div class="text-lg border-b uppercase"><%=section.title%></div>
          <div class="space-y-1">
            <% section.items.forEach(function(item) { %>
              <div class='mt-1'>
                <div class="flex justify-between">
                  <div class="text-sm"><%= item.title %></div>
                  <div class="text-xs font-semibold"><%= item.startDate %> - <%= item.endDate || "Present" %></div>
                </div>
                <div class="text-xs"><%= item.description %></div>
              </div>
            <% }); %>
          </div>
        </section>
      <% }); %>
  </div>
</body>
</html>
